<button type="button" class="btn btn-primary btn-sm" (click)="openBasicModal(ListItemsModal)">
  <mat-icon>search</mat-icon>
  {{Title}}
</button>

<ng-template #ListItemsModal let-modal>
  <mat-card>
    <mat-card-content>
      <c-container>
        <c-row>
          <div class="col-lg-3 col-md-3 col-6 col-sm-6 mb-3">
            <mat-form-field appearance="outline">
              <mat-label>
                من رقم المذكرة <span class="text-danger"> </span>
              </mat-label>
              <input matInput (focusout)="PerformSearch()" [formControl]="incumbent_id_from" id="incumbent_id_from"
                (keyup.enter)="focusNext('to_number')" />
            </mat-form-field>
          </div>

          <div class="col-lg-3 col-md-3 col-6 col-sm-6 mb-3">
            <mat-form-field appearance="outline">
              <mat-label>
                إلى رقم المذكرة <span class="text-danger"> </span>
              </mat-label>
              <input matInput (focusout)="PerformSearch()" matInput [formControl]="incumbent_id_to" id="to_number"
                (keyup.enter)="focusNext('document_id_from')" />
            </mat-form-field>
          </div>


          <div class="col-lg-3 col-md-3 col-6 col-sm-6 mb-3">
            <mat-form-field appearance="outline">
              <mat-label>من رقم مستند</mat-label>


              <input matInput type="text" class="form-control" (focusout)="PerformSearch()"
                [formControl]="document_id_from" id="document_id_from" (keyup.enter)="focusNext('document_id_to')" />
            </mat-form-field>
          </div>

          <div class="col-lg-3 col-md-3 col-6 col-sm-6 mb-3">
            <mat-form-field appearance="outline">
              <mat-label>
                إلى رقم مستند <span class="text-danger"> </span>
              </mat-label>
              <input matInput (focusout)="PerformSearch()" matInput [formControl]="document_id_to" id="document_id_to"
                (keyup.enter)="focusNext('sanad_month')" />
            </mat-form-field>
          </div>



          <div class="col-lg-6 col-md-6 col-6 col-sm-12 mb-3">

            <label class="form-label">
              شهر الوثيقة <span class="text-danger"> </span>
            </label>


            <ng-select [formControl]="sanad_month" [multiple]="true" [items]="months" bindValue="id" bindLabel="name"
              placeholder="قم باختيار الاشهر" id="sanad_month" (keyup.enter)="focusNext('incumbent_month')"
              (focusout)="PerformSearch()">
            </ng-select>

          </div>

          <div class="col-lg-6 col-md-6 col-6 col-sm-12 mb-3">
            <label class="form-label">
              شهر المذكرة <span class="text-danger"> </span>
            </label>

            <ng-select [formControl]="incumbent_month" id="incumbent_month" [multiple]="true" [items]="months"
              bindValue="id" bindLabel="name" (keyup.enter)="focusNext('from_number')" (focusout)="PerformSearch()">
            </ng-select>

          </div>
        </c-row>



        <c-row>
        
          <div  infinite-scroll [infiniteScrollDistance]="20" [infiniteScrollUpDistance]="1"
            [infiniteScrollThrottle]="100" (scrolled)="onScroll()" [scrollWindow]="false"
            style="height: 400px; overflow-y: scroll;">
        
            <mat-list>
              <mat-list-item (click)="SelectItemChange(payment_order)" *ngFor="let payment_order of payment_order_list">        
                <!-- <h4 matLine style="font-size: small; font-weight: bold;"> {{emp?.fullname}} </h4> -->
                <p matLine>
                  <mat-grid-list cols="8" rowHeight="25px">
                    <mat-grid-tile colspan="4" rowspan="1">
                        رقم الوثيقة   
                    </mat-grid-tile>
                    <mat-grid-tile colspan="4" rowspan="1">
                       تاريخ الوثيقة
                    </mat-grid-tile>
                  </mat-grid-list>
                  <mat-grid-list cols="8" rowHeight="25px">
                    <mat-grid-tile colspan="4" rowspan="1">
                      {{payment_order?.document_id}} 
                    </mat-grid-tile>
                    <mat-grid-tile colspan="4" rowspan="1">
                      {{payment_order?.document_date | date: "dd-mm-yyyy"}}
                    </mat-grid-tile>
                  </mat-grid-list>
                </p>
                <p matLine>
                  <mat-grid-list cols="8" rowHeight="25px">
                    <mat-grid-tile colspan="4" rowspan="1">
                        مبلغ الوثيقة
                    </mat-grid-tile>
                    <mat-grid-tile colspan="4" rowspan="1">
                        اسم صاحب الاستحقاق
                    </mat-grid-tile>
                  </mat-grid-list>
                  <mat-grid-list cols="8" rowHeight="25px">
                    <mat-grid-tile colspan="4" rowspan="1">
                      {{payment_order?.total_value}} 
                    </mat-grid-tile>
                    <mat-grid-tile colspan="4" rowspan="1">
                      {{payment_order?.name_of_owner}}
                    </mat-grid-tile>
                  </mat-grid-list>
                </p>       
                <mat-divider></mat-divider>
              </mat-list-item>
        
            </mat-list>
        
          </div>
        </c-row>

      </c-container>
    </mat-card-content>

  </mat-card>

</ng-template>